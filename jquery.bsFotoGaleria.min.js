!function(l){"use strict";l.fn.bsPhotoGallery=function(a){function i(){return'ul[data-bsp-ul-id="'+m.ulId+'"][data-bsp-ul-index="'+m.ulIndex+'"]'}function e(){for(var l="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",a=4,i="",e=0;a>e;e++)i+=l.charAt(Math.floor(Math.random()*l.length));return"bsp-"+i}function s(){if(0!==l("#bsPhotoGalleryModal").length)return!1;var a="";a+='<div class="modal fade" id="bsPhotoGalleryModal" tabindex="-1" role="dialog"',a+='aria-labelledby="myModalLabel" aria-hidden="true">',a+='<div class="modal-dialog"><div class="modal-content">',a+='<div class="modal-body"></div></div></div></div>',l("body").append(a)}function t(){var a=l(i()+" li[data-bsp-li-index]").length;a===m.nextImg?l("a.next").hide():l("a.next").show(),-1===m.prevImg?l("a.previous").hide():l("a.previous").show()}function r(){var a=l(this).find("img").attr("src"),i=l(this).find("img").attr("title");"undefined"==typeof i&&(i="");var e=l(this).find("img").attr("data-bsp-large-src");"string"==typeof e&&(a=e);var s=l(this).attr("data-bsp-li-index"),r=l(this).parent("ul").attr("data-bsp-ul-index"),o=l(this).parent("ul").attr("data-bsp-ul-id");m.img=a,m.prevImg=parseInt(s)-parseInt(1),m.nextImg=parseInt(s)+parseInt(1),m.ulIndex=r,m.ulId=o,m.titulo=i,l("#bsPhotoGalleryModal").modal();var d="",n='<img src="'+m.img+'" class="img-responsive"  title="'+m.titulo+'" />';d+=n,d+='<span class="glyphicon glyphicon-remove-circle" style="position: absolute; right: -14px; top: -11px; font-size: 30px; color:#fff; text-shadow: 1px 1px 18px #000;"></span>',d+='<div class="text-center" style="height:52px;clear:both;display:block;">',d+='<h4 id="Titulo">'+m.titulo+"</h4>",d+='<div><a class="controls next btn btn-info btn-xs pull-right" data-bsp-id="'+m.ulId+'" href="'+m.nextImg+'">'+b.msgNext+" &raquo;</a>",d+='<a class="controls previous btn btn-info btn-xs pull-left" data-bsp-id="'+m.ulId+'" href="'+m.prevImg+'">&laquo; '+b.msgPrevious+"</a></div>",d+="</div>",l("#bsPhotoGalleryModal .modal-body").html(d),l(".glyphicon-remove-circle").on("click",c),t()}function c(){l("#bsPhotoGalleryModal").modal("hide")}function o(){var a=l(i()),e=l(this).attr("href"),s=a.find('li[data-bsp-li-index="'+e+'"] img').attr("src"),r=a.find('li[data-bsp-li-index="'+e+'"] img').attr("title");"undefined"==typeof r&&(r="");var c=a.find('li[data-bsp-li-index="'+e+'"] img').attr("data-bsp-large-src");return"string"==typeof c&&(s=c),l(".modal-body img").attr("src",s),l(".modal-body img").attr("title",r),l("#Titulo").html(r),m.prevImg=parseInt(e)-1,m.nextImg=parseInt(m.prevImg)+2,l(this).hasClass("previous")?(l(this).attr("href",m.prevImg),l("a.next").attr("href",m.nextImg)):(l(this).attr("href",m.nextImg),l("a.previous").attr("href",m.prevImg)),t(),!1}function d(){l("#bsPhotoGalleryModal .modal-body").html(""),m={}}function n(a,i){var e=i+1;l.each(x,function(i){switch(x[i]){case"col-lg-1":0==l(a).next("li.clearfix").length&&l(a).after('<li class="clearfix visible-lg-block"></li>');break;case"col-lg-2":e%6===0&&l(a).after('<li class="clearfix visible-lg-block"></li>');break;case"col-lg-3":e%4===0&&l(a).after('<li class="clearfix visible-lg-block"></li>');break;case"col-lg-4":e%3===0&&l(a).after('<li class="clearfix visible-lg-block"></li>');break;case"col-lg-5":case"col-lg-6":e%2===0&&l(a).after('<li class="clearfix visible-lg-block"></li>');break;case"col-md-1":0==l(a).next("li.clearfix").length&&l(a).after('<li class="clearfix visible-md-block"></li>');break;case"col-md-2":e%6===0&&l(a).after('<li class="clearfix visible-md-block"></li>');break;case"col-md-3":e%4===0&&l(a).after('<li class="clearfix visible-md-block"></li>');break;case"col-md-4":e%3===0&&l(a).after('<li class="clearfix visible-md-block"></li>');break;case"col-md-5":case"col-md-6":e%2===0&&l(a).after('<li class="clearfix visible-md-block"></li>');break;case"col-sm-1":0==l(a).next("li.clearfix").length&&l(a).after('<li class="clearfix visible-sm-block"></li>');break;case"col-sm-2":e%6===0&&l(a).after('<li class="clearfix visible-sm-block"></li>');break;case"col-sm-3":e%4===0&&l(a).after('<li class="clearfix visible-sm-block"></li>');break;case"col-sm-4":e%3===0&&l(a).after('<li class="clearfix visible-sm-block"></li>');break;case"col-sm-5":case"col-sm-6":e%2===0&&l(a).after('<li class="clearfix visible-sm-block"></li>');break;case"col-xs-1":0==l(a).next("li.clearfix").length&&l(a).after('<li class="clearfix visible-xs-block"></li>');break;case"col-xs-2":e%6===0&&l(a).after('<li class="clearfix visible-xs-block"></li>');break;case"col-xs-3":e%4===0&&l(a).after('<li class="clearfix visible-xs-block"></li>');break;case"col-xs-4":e%3===0&&l(a).after('<li class="clearfix visible-xs-block"></li>');break;case"col-xs-5":case"col-xs-6":e%2===0&&l(a).after('<li class="clearfix visible-xs-block"></li>')}})}var b=l.extend({},l.fn.bsPhotoGallery.defaults,a),f=e(),h=b.classes,x=h.split(" "),m={};return this.each(function(a){var i=l(this).find("li");l(this).attr("data-bsp-ul-id",f),l(this).attr("data-bsp-ul-index",a),i.each(function(a){n(this,a),l(this).addClass(h),l(this).attr("data-bsp-li-index",a),l(this).find("img").addClass("img-responsive"),b.hasModal===!0&&(l(this).addClass("bspHasModal"),l(this).on("click",r))})}),b.hasModal===!0&&(l(document).on("click",'a.controls[data-bsp-id="'+f+'"]',o),l(document).on("hidden.bs.modal","#bsPhotoGalleryModal",d),s()),this},l.fn.bsPhotoGallery.defaults={classes:"col-lg-2 col-md-2 col-sm-3 col-xs-4",hasModal:!0,msgPrevious:"previous",msgNext:"next"}}(jQuery);